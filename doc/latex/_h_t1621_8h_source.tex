\doxysection{HT1621.\+h}
\hypertarget{_h_t1621_8h_source}{}\label{_h_t1621_8h_source}\index{C:/Users/cyril/repo/pio/FCU\_Arduino/lib/src/HT1621.h@{C:/Users/cyril/repo/pio/FCU\_Arduino/lib/src/HT1621.h}}
\mbox{\hyperlink{_h_t1621_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#ifndef\ \_HT1621\_h}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#define\ \_HT1621\_h}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#if\ ARDUINO\ >=\ 100}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#include\ "{}Arduino.h"{}}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#include\ "{}WProgram.h"{}}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#define\ TAKE\_CS()\ \ \ \ digitalWrite(\_CS\_pin,\ LOW)}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#define\ RELEASE\_CS()\ digitalWrite(\_CS\_pin,\ HIGH)}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{comment}{//\ Uncomment\ the\ line\ below\ if\ you\ can\ read\ from\ the\ HT1621\ directly}}
\DoxyCodeLine{00086\ \textcolor{comment}{//\ \#define\ \_\_HT1621\_READ}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_h_t1621}{HT1621}}\ \{}
\DoxyCodeLine{00090\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_h_t1621_a5689b4c0cc66f81dbe3c77c0501b5f7d}{Modes}}\ :\ uint8\_t\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a5689b4c0cc66f81dbe3c77c0501b5f7da8b0635fd21a899c67d5688bf59f19dce}{COMMAND\_MODE}}\ =\ 0b10000000,\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a5689b4c0cc66f81dbe3c77c0501b5f7daea3bdf56a7677d72d46400247b3e14a5}{READ\_MODE}}\ =\ 0b11000000,\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a5689b4c0cc66f81dbe3c77c0501b5f7da8f2c096de7abf76607e125bdd895816b}{WRITE\_MODE}}\ =\ 0b10100000,\ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a5689b4c0cc66f81dbe3c77c0501b5f7dafed553cb9a0576b8339392b1141978f5}{READ\_MODIFY\_WRITE\_MODE}}\ =\ 0b10100000,\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a5689b4c0cc66f81dbe3c77c0501b5f7daab4fa58e3a7ec99885a4e83c6ad499df}{SPECIAL\_MODE}}\ =\ 0b10010000\ }
\DoxyCodeLine{00100\ \ \ \ \ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792}{Commands}}\ :\ uint8\_t\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a671cd04b6a479de72ff17b6ec6e1b2c3}{SYS\_DIS}}\ =\ 0b00000000,\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a1d45e775f00bacdc998283f883e852d5}{SYS\_EN}}\ =\ 0b00000010,\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a8904980a98d44ad63bc5d42c72a7f18a}{LCD\_OFF}}\ =\ 0b00000100,\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792aff0b936cc8cf506ea3015f581ed9b61d}{LCD\_ON}}\ =\ 0b00000110,\ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ae2766824e6453c6a786be4f5b2ef19ed}{TIMER\_DIS}}\ =\ 0b00001000,\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a191280baf234f5dc6febf237c508e347}{WDT\_DIS}}\ =\ 0b00001010,\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ad51666fb36d73897973982fc894468a3}{TIMER\_EN}}\ =\ 0b00001100,\ }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a5d1375729dee4e5c02a1c82bfb166c91}{WDT\_EN}}\ =\ 0b00001110,\ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792aa55e3f19aab73b728552852a0acc96bc}{CLR\_TIMER}}\ =\ 0b00011000,\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792aeac7700c08f773785e10b728d0f7d55b}{CLR\_WDT}}\ =\ 0b00011100,\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a640d8867211f01ce41686f94f9f4c09b}{TONE\_OFF}}\ =\ 0b00010000,\ }
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ade782d42eed04c9930906fbe008b0de9}{TONE\_ON}}\ =\ 0b00010010,\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792abfb9c655802593d9ba79ec6b4315ad09}{TONE2K}}\ =\ 0b11000000,\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a584389a99f7706a08436efce356821d6}{TONE4K}}\ =\ 0b10000000,\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a72d5024b21dc3b826d3a6bef79d0863b}{RC256K}}\ =\ 0b00110000,\ }
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a7ec55afe16e9043ba5c4ff68d4ba56b3}{XTAL32K}}\ =\ 0b00101000,\ }
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ae1e66bc7116b3a75f63ab22efa2e71ec}{EXT256K}}\ =\ 0b00111000,\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ bias\ to\ 1/2\ or\ 1/3\ cycle}}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ to\ 2,3\ or\ 4\ connected\ COM\ lines}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ad4283539f2b79569c6416eae1047520d}{BIAS\_HALF\_2\_COM}}\ =\ 0b01000000,\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a1dbdae64e8281b6fc3c935e657c704bb}{BIAS\_HALF\_3\_COM}}\ =\ 0b01001000,\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a9dbff8885d2886e8a50432b062dad9b3}{BIAS\_HALF\_4\_COM}}\ =\ 0b01010000,\ }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ae7d459341c6fa33ce3583b9ab7c433d5}{BIAS\_THIRD\_2\_COM}}\ =\ 0b01000010,\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a12799ba525081846852a49e9d127eff8}{BIAS\_THIRD\_3\_COM}}\ =\ 0b01001010,\ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a0fe81c1dda0c6f1ee366ea315ef74ef8}{BIAS\_THIRD\_4\_COM}}\ =\ 0b01010010,\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792adf4887356cfc6c8edaf542b8998e8b69}{IRQ\_EN}}\ =\ 0b00010000,\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ac6eff812715fef0daad72c4e8675a685}{IRQ\_DIS}}\ =\ 0b00010000,\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ WDT\ configuration\ commands}}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a08adddf16897a0932d75182bf36ab067}{F1}}\ =\ 0b01000000,\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a23948d6a92df668f63e8bf3be4344a19}{F2}}\ =\ 0b01000010,\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792ae6fe080f740baf0a0816e09e7fbe3dcd}{F4}}\ =\ 0b01000100,\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792aae969cfb2a6cfe375d08d09bafe2f7b1}{F8}}\ =\ 0b01000110,\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a98ee814e0e8c7303a0483628499202cd}{F16}}\ =\ 0b01001000,\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a49e8b06a2ec1734a29c67b65fb0b4168}{F32}}\ =\ 0b01001010,\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a9c29c39d669284abe9dc632bc5c9c455}{F64}}\ =\ 0b01001100,\ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a31b6c703ad88d3d37d671acaaa7a267d}{F128}}\ =\ 0b01001110,\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Don't\ use}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a77e8495001e75d9e7811c16c83746852}{TEST\_ON}}\ =\ 0b11000000,\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a2d3d5e3ee8c5b92ab1d5052972862792a9a3aaa0dff81d5a4dc9aaa34051c9658}{TEST\_OFF}}\ =\ 0b11000110\ \ }
\DoxyCodeLine{00151\ \ \ \ \ \};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ uint8\_t\ \mbox{\hyperlink{class_h_t1621_a268be0c828ad346f04b846a0af160e87}{MAX\_ADDR}}\ =\ 32;}
\DoxyCodeLine{00160\ \ \ \ \ \mbox{\hyperlink{class_h_t1621_a6177ab9ac8f8f35aac124a6a2bc4bcf7}{HT1621}}(uint8\_t\ CSpin,\ uint8\_t\ RWpin,\ uint8\_t\ DATApin)\ :\ \_CS\_pin(CSpin),\ \_DATA\_pin(DATApin),\ \_RW\_pin(RWpin)\ \{\};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_a9b63cc50207aa943df94fbcc982382f6}{begin}}();}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_af5891d2fa38c49df34e4e56e2d5582aa}{writeBits}}(uint8\_t\ data,\ uint8\_t\ cnt);}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_af45df5331462e4b2895316bcbfb93015}{writeBitsReverse}}(uint32\_t\ data,\ uint8\_t\ cnt);}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00187\ \textcolor{preprocessor}{\#ifdef\ \_\_HT1621\_READ}}
\DoxyCodeLine{00188\ \ \ \ \ uint8\_t\ readBits(uint8\_t\ cnt);}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_a4287d551e4a19a6dc5b5bc5005cd88a1}{sendCommand}}(uint8\_t\ cmd,\ \textcolor{keywordtype}{bool}\ first\ =\ \textcolor{keyword}{true},\ \textcolor{keywordtype}{bool}\ last\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_aaef4b8f489f4e73810324df459985266}{write}}(uint8\_t\ address,\ uint32\_t\ bits,\ uint8\_t\ bit\_cnt\ =\ 4);}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_a8c81b1226bc169e0d9514b05f77763be}{writeArray}}(uint8\_t\ address,\ uint8\_t*\ array,\ uint8\_t\ cnt);}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00226\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_h_t1621_a67f29f7b2ada5cafbaa73f182934479c}{read}}(uint8\_t\ address);}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_h_t1621_a67f29f7b2ada5cafbaa73f182934479c}{read}}(uint8\_t\ address,\ uint8\_t*\ data,\ uint8\_t\ cnt);}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00239\ \ \ \ \ uint8\_t\ \_CS\_pin;}
\DoxyCodeLine{00240\ \ \ \ \ uint8\_t\ \_DATA\_pin;}
\DoxyCodeLine{00241\ \ \ \ \ uint8\_t\ \_RW\_pin;}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{preprocessor}{\#ifndef\ \_\_HT1621\_READ}}
\DoxyCodeLine{00249\ \ \ \ \ uint8\_t\ ram[\mbox{\hyperlink{class_h_t1621_a268be0c828ad346f04b846a0af160e87}{MAX\_ADDR}}];}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00251\ \};}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
